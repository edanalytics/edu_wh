version: 2

models: 
  - name: fct_student_objective_assessment
    description: >
      ##### Overview:
        Student objective assessment records. The wide results columns are determined based on the `normalized_score_name` column
        from the seed table `xwalk_objective_assessment_scores`.

      ##### Primary Key:
        `k_student_objective_assessment` -- There is one record per student-assessment event and objective assessment.

      ##### Important Business Rules:
        Note, the only records available in `fct_student_objective_assessment` are those for which the student-year of the 
        assessment record match an existing student-year in `dim_student`. To see a "full history" of assessment records,
        (e.g., for assessment records from years prior to the earliest Ed-Fi ODS) see
        [fct_student_objective_assessment_full_history](#!/model/model.edu_wh.fct_student_objective_assessment_full_history).


    config:
      tags: ['assessment']
      enabled: "{{ var('src:domain:assessment:enabled', True) }}"
    columns:
      - name: k_student_objective_assessment
        description: >
          Generated primary key composed of `tenant_code`, `api_year`, `studentAssessmentIdentifier`, and `objectiveAssessmentIdentificationCode`.
        tests: 
          - unique
      - name: k_objective_assessment
      - name: k_student_assessment
      - name: k_assessment
      - name: k_student
      - name: school_year
      - name: administration_date
      - name: administration_end_date
      - name: event_description
      - name: administration_environment
      - name: administration_language
      - name: event_circumstance
      - name: platform_type
      - name: reason_not_tested
      - name: retest_indicator
      - name: when_assessed_grade_level
      - name: v_other_results
        description: >
          This is an array of all additional score results that were not
          mapped in the seed table `xwalk_objective_assessment_scores`.
      - name: scale_score
        description: >
          One of the results columns that could exist if mapped in the seed table `xwalk_objective_assessment_scores`.
      - name: sem
        description: >
          One of the results columns that could exist if mapped in the seed table `xwalk_objective_assessment_scores`.