version: 2

models: 
  - name: dim_subgroup
    description: >
      ##### Overview: 
        This dimension table defines groups of students that can be used to aggregate data in the [fct_student_subgroup](#!/model/model.edu_wh.fct_student_subgroup) fact table.
        It is created dynamically by casting the indicators and status columns found in the dim_student table (see Source Code below). 

      ##### Primary Key:
        `k_subgroup` -- There is one record per subgroup_category and subgroup_value.

      ##### Important Business Rules:
        Display names (`subgroup_category_display_name` and `subgroup_value_display_name`) are generated from configurable seed 
        tables `xwalk_subgroup_display_names` and `xwalk_subgroup_category_display_names`. Edit these xwalks in your implementation
        repo to change the display names here. Then you can join to `dim_subgroup` in your viz/BI tool to display custom names for student groups.

    config:
      tags: ['core']
    columns:
      - name: k_subgroup
        description: Defining key for subgroups. A surrogate key for [`subgroup_category` + `subgroup_value`]
        tests:
          - edu_edfi_source.edu_unique
      - name: subgroup_category
        description: Category of subgroup. e.g. "grade_level"
      - name: subgroup_category_display_name
        description: Display name (for BI or other reporting) of the subgroup category. e.g. "Grade Level". Generated by configurable seed table `xwalk_subgroup_category_display_names`
      - name: subgroup_value
        description: Specific value that defines this subgroup. e.g. "Eighth grade"
      - name: subgroup_value_display_name
        description: Display name (for BI or other reporting) of the subgroup value. e.g. "Grade 8". Generated by configurable seed table `xwalk_subgroup_display_names`
